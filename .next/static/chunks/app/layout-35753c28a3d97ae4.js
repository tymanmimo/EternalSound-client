(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3376:function(t,e,r){Promise.resolve().then(r.t.bind(r,3649,23)),Promise.resolve().then(r.bind(r,6403)),Promise.resolve().then(r.bind(r,6903)),Promise.resolve().then(r.t.bind(r,3385,23))},6403:function(t,e,r){"use strict";let a;r.r(e),r.d(e,{AudioContext:function(){return l},useAudioContext:function(){return s}});var i=r(7437),o=r(2173),n=r(2265);"undefined"!=typeof Audio&&(a=new Audio);let l=(0,n.createContext)(void 0),s=()=>{let t=(0,n.useContext)(l);if(!t)throw Error("useAudioContext must be used within an AudioProvider");return t};e.default=t=>{let{children:e}=t,[r,s]=(0,n.useState)([]),[d,c]=(0,n.useState)(!1),[u,h]=(0,n.useState)({id:-1,videoId:"",preview:"",title:"",artist:"",duration:0}),[p,v]=(0,n.useState)(!0),[g,f]=(0,n.useState)(!1),[y,w]=(0,n.useState)(!1),[m,C]=(0,n.useState)("");a&&a.addEventListener("canplaythrough",()=>{a.play()});let I=async(t,e)=>{if(v(!1),""!=t.videoId){if(console.log(r),u.videoId!==t.videoId)try{let r=await o.Z.get("http://localhost:3001/mapi/getSong",{params:{videoId:t.videoId},withCredentials:!0});a.pause(),a.currentTime=0,a.src=r.data.url,w(!0),C(e),h(t);return}catch(t){console.error("Ошибка при выполнении запроса:",t)}y?(a.pause(),w(!1)):(w(!0),a.play())}},_=async()=>{if(a.pause(),g&&a.currentTime==a.duration){a.currentTime=0,a.play();return}if(u.id==r.length)try{let t=await o.Z.get("http://localhost:3001/mapi/getSong",{params:{videoId:r[0].videoId},withCredentials:!0});a.src=t.data.url,h(r[0])}catch(t){console.error("Ошибка при выполнении запроса:",t)}else try{let t=await o.Z.get("http://localhost:3001/mapi/getSong",{params:{videoId:r[u.id].videoId},withCredentials:!0});a.src=t.data.url,h(r[u.id])}catch(t){console.error("Ошибка при выполнении запроса:",t)}w(!0)},x=async()=>{-1!=u.id&&_()},S=async()=>{if(-1!=u.id){if(a.pause(),1==u.id)try{let t=await o.Z.get("http://localhost:3001/mapi/getSong",{params:{videoId:r[r.length-1].videoId},withCredentials:!0});a.src=t.data.url,h(r[r.length-1])}catch(t){console.error("Ошибка при выполнении запроса:",t)}else try{let t=await o.Z.get("http://localhost:3001/mapi/getSong",{params:{videoId:r[u.id-2].videoId},withCredentials:!0});a.src=t.data.url,h(r[u.id-2])}catch(t){console.error("Ошибка при выполнении запроса:",t)}w(!0)}},b={audio:a,currentTrack:u,isPlaying:y,handleToggleAudio:I,handleToggleNextAudio:x,handleTogglePreviousAudio:S,nextTrack:_,trackList:r,setTrackList:s,repeat:g,setRepeat:f,playbarToggleAudio:()=>{y?(w(!1),a.pause()):(w(!0),a.play())},trackListId:m,setTrackListId:C,clearAudioContext:()=>{a.pause(),a.currentTime=0,a.volume=1,a.src="",s([]),v(!0),w(!1),C(""),f(!1),h({id:-1,videoId:"",preview:"",title:"",artist:"",duration:0})},disable:p,currentTrackListMenu:d,setCurrentTrackListMenu:c};return(0,i.jsx)(l.Provider,{value:b,children:e})}},6903:function(t,e,r){"use strict";r.r(e),r.d(e,{FavoriteContext:function(){return n},useFavoriteContext:function(){return l}});var a=r(7437),i=r(2173),o=r(2265);let n=(0,o.createContext)(void 0),l=()=>{let t=(0,o.useContext)(n);if(!t)throw Error("useAudioContext must be used within an AudioProvider");return t};e.default=t=>{let{children:e}=t,r=async(t,e)=>{try{let{data:r}=await i.Z.get("http://localhost:3001/api/checkFavorite",{params:{browseId:t,type:e},withCredentials:!0});return r}catch(t){console.error("Error:",t)}},o=async(t,e)=>{try{let{data:r}=await i.Z.delete("http://localhost:3001/api/removeFavorite",{data:{browseId:t,type:e},withCredentials:!0});return r}catch(t){console.error("Error:",t)}},l=async(t,e)=>{try{let{data:r}=await i.Z.put("http://localhost:3001/api/addFavorite",{browseId:t,type:e},{withCredentials:!0});return r}catch(t){console.error("Error:",t)}},s=async()=>{try{let{data:t}=await i.Z.get("http://localhost:3001/mapi/getFavoriteSongs",{withCredentials:!0});if(t.length>1)return t.shift(),t;return[]}catch(t){console.log(t)}},d=async()=>{try{let{data:t}=await i.Z.get("http://localhost:3001/mapi/getFavoriteAlbums",{withCredentials:!0});if(t.length>1)return t.shift(),t;return[]}catch(t){console.log(t)}},c=async()=>{try{let{data:t}=await i.Z.get("http://localhost:3001/mapi/getFavoriteArtists",{withCredentials:!0});if(t.length>1)return t.shift(),t;return[]}catch(t){console.log(t)}},u=async()=>{try{let{data:t}=await i.Z.get("http://localhost:3001/mapi/getFavoritePlaylists",{withCredentials:!0});if(t.length>1)return t.shift(),t;return[]}catch(t){console.log(t)}};return(0,a.jsx)(n.Provider,{value:{checkFavorite:r,addFavorite:l,removeFavorite:o,getFavoriteSongs:s,getFavoriteAlbums:d,getFavoriteArtists:c,getFavoritePlaylists:u},children:e})}},3385:function(){},3649:function(t){t.exports={style:{fontFamily:"'__Inter_e66fe9', '__Inter_Fallback_e66fe9'",fontStyle:"normal"},className:"__className_e66fe9"}}},function(t){t.O(0,[580,971,938,744],function(){return t(t.s=3376)}),_N_E=t.O()}]);